@{
    Layout = "_LayoutAdmin2";
}

<body>
    <main class="container">
        <div class="bg-light p-4 rounded" style="max-width: 600px; margin: 0 auto;  ">
            <h1>Detalles de Compra</h1>
            <form method="post">

                <dl class="row listadl">
                    <dt class="col-sm-2">
                        Nombre
                    </dt>
                    <dd class="col-sm-10">
                        @ViewBag.NombreUser
                    </dd>
                    <dt class="col-sm-2">
                        Calle
                    </dt>
                    <dd class="col-sm-10">
                        @ViewBag.Direccion.Street
                    </dd>
                    <dt class="col-sm-2">
                        NumExt
                    </dt>
                    <dd class="col-sm-10">
                        @ViewBag.Direccion.ExtNum
                    </dd>
                    <dt class="col-sm-2">
                        NumInt
                    </dt>
                    <dd class="col-sm-10">
                        @ViewBag.Direccion.IntNum
                    </dd>
                    <dt class="col-sm-2">
                        Telefono
                    </dt>
                    <dd class="col-sm-10">
                        @ViewBag.Direccion.State
                    </dd>
                    <dt class="col-sm-2">
                        Alcaldia
                    </dt>
                    <dd class="col-sm-10">
                        @ViewBag.Direccion.Delegations
                    </dd>
                    <dt class="col-sm-2">
                        Colonia
                    </dt>
                    <dd class="col-sm-10">
                        @ViewBag.Direccion.Neighborhood
                    </dd>
                    <dt class="col-sm-2">
                        CP
                    </dt>
                    <dd class="col-sm-10">
                        @ViewBag.Direccion.ZipCode
                    </dd>
                </dl>
                <hr class="my-4">

                @{
                    foreach (var i in ViewBag.CarrVen)
                    {
                        if (i.IDOrder == ViewBag.IDOrden)
                        {
                            foreach (var j in ViewBag.Inter)
                            {
                                if (i.idProductInter == j.ID)
                                {
                                    foreach (var k in ViewBag.Productos)
                                    {
                                        if (j.idProducts == k.ID)
                                        {
                                            <dl class="row">
                                                <dt class="col-sm-2">
                                                    Nombre
                                                </dt>
                                                <dd class="col-sm-10">
                                                    @k.Name
                                                </dd>
                                                <dt class="col-sm-2">
                                                    Descripcion
                                                </dt>
                                                <dd class="col-sm-10">
                                                    @k.Description
                                                </dd>
                                                <dt class="col-sm-2">
                                                    Cantidad
                                                </dt>
                                                <dd class="col-sm-10">
                                                    @i.Amount
                                                </dd>
                                                <dt class="col-sm-2">
                                                    Precio
                                                </dt>
                                                <dd class="col-sm-10">
                                                    @j.SalePrice
                                                </dd>
                                            </dl>
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                <hr class="my-4">

                @{
                    if (ViewBag.Envio == "Preparando tu producto")
                    {
                        <dl class="row">
                            <dt class="col-sm-3">
                                Selecciona el estado del envio
                            </dt>
                            <dd class="col-sm-11">
                                <select name="Estado" class="form-select" aria-label="">
                                    <option selected>Estado...</option>
                                    <option value="1">Tu paquete esta listo para ser enviado</option>
                                </select>
                            </dd>
                            <dt class="col-sm-4">
                                <button asp-controller="Admin" asp-action="ShippingDetails" class="w-100 btn btn-primary btn-lg" type="submit" asp-route-id=1 asp-route-idord="@ViewBag.IDOrden" style="font-size: 15px;   font-weight: 400; font-style: normal;">Editar un estado</button>
                            </dt>
                        </dl>
                    }
                    else if (ViewBag.Envio == "Tu paquete esta listo para ser enviado")
                    {
                        <dl class="row">
                            <dt class="col-sm-3">
                                Selecciona el estado del envio
                            </dt>
                            <dd class="col-sm-11">
                                <select name="Estado" class="form-select" aria-label="">
                                    <option selected>Estado...</option>
                                    <option value="2">Tu paquete esta en camino a tu domicilio</option>
                                </select>
                            </dd>
                            <dt class="col-sm-4">
                                <button asp-controller="Admin" asp-action="ShippingDetails" class="w-100 btn btn-primary btn-lg" type="submit" asp-route-id=2 asp-route-idord="@ViewBag.IDOrden" style="font-size: 15px;   font-weight: 400; font-style: normal;">Editar un estado</button>
                            </dt>
                        </dl>
                    }
                    else if (ViewBag.Envio == "Tu paquete esta en camino")
                    {
                        <dl class="row">
                            <dt class="col-sm-3">
                                Selecciona el estado del envio
                            </dt>
                            <dd class="col-sm-11">
                                <select name="Estado" class="form-select" aria-label="">
                                    <option selected>Estado...</option>
                                    <option value="3">Tu paquete a sido entregado</option>
                                </select>
                            </dd>
                            <dt class="col-sm-4">
                                <button asp-controller="Admin" asp-action="ShippingDetails" class="w-100 btn btn-primary btn-lg" type="submit" asp-route-id=3 asp-route-idord="@ViewBag.IDOrden" style="font-size: 15px;   font-weight: 400; font-style: normal;">Editar un estado</button>
                            </dt>
                        </dl>
                    }
                }


            </form>
            <br />
            <h1>@ViewBag.Mensaje</h1>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="~/js/form-validation.js"></script>
</body>